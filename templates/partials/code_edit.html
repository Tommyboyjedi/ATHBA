<!-- partials/code_edit.html -->
<div id="code-panel">
  <div class="flex justify-between items-center mb-1">
    <h2 class="font-semibold text-sm">Code Interaction</h2>

    <button
      hx-post="/api/ui/code/save"
      hx-target="#code-panel"
      hx-swap="outerHTML"
      class="px-2 py-1 rounded text-sm bg-green-600 text-white"
      onclick="document.getElementById('code-form').submit()"
    >
      Save
    </button>
  </div>

  <form id="code-form" hx-post="/api/ui/code/save" hx-target="#code-panel" hx-swap="outerHTML">
    <textarea name="code_text" class="w-full h-40 p-2 rounded shadow font-mono text-sm bg-white border border-gray-300">
{{ code_text }}
    </textarea>
  </form>

  <p class="text-xs italic mt-1">Edit mode: Agents paused.</p>
</div>
